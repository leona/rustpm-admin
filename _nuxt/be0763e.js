(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{409:function(t,e,n){var content=n(417);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("0d1bd888",content,!0,{sourceMap:!1})},416:function(t,e,n){"use strict";n(409)},417:function(t,e,n){var o=n(14)(!1);o.push([t.i,".operations-component .state{text-align:right;font-size:12px}.operations-component .state span{color:green;font-size:17px;display:block}",""]),t.exports=o},442:function(t,e,n){"use strict";n.r(e);n(35),n(26),n(21),n(10),n(45),n(28),n(46);var o=n(17),r=(n(59),n(60)),c=n(102);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={computed:f(f({},Object(r.c)("server",["servers"])),{},{stateTypeColour:function(){switch(this.state.type){case"info":return"#4ab764";case"warn":return"#b67b49";default:return"#d95454"}}}),mounted:function(){this.checkState(),this.interval=setInterval(this.checkState,1e3)},beforeDestroy:function(){this.interval&&clearInterval(this.interval)},data:function(){return{state:{},error:null}},methods:{capitalise:function(t){return Object(c.a)(t)},onClickAction:function(t){var e=this;confirm("Are you sure you want to ".concat(t," the server?"))&&this.$rustpm.get("action/".concat(t)).then((function(n){console.log("Sent action",t),e.$toast.info("Sent ".concat(t," operation"),{position:"bottom-right",duration:5e3})})).catch((function(){e.$toast.error("Failed to send ".concat(t," operation"),{position:"bottom-right",duration:5e3})}))},checkState:function(){var t=this;this.$rustpm.get("state").then((function(e){if(""!=e.data.error)return t.error=e.data.error,void(t.state={message:"API error",type:"danger"});t.state=e.data.response})).catch((function(){t.state={message:"API unreachable",type:"danger"}}))}},watch:{error:function(){console.log("Error",this.error)}}},v=(n(416),n(1)),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-card p-px-5 p-pt-3 p-pb-4 operations-component"},[n("div",{staticClass:"p-grid"},[t._m(0),t._v(" "),n("div",{staticClass:"p-col-7"},[n("p",{staticClass:"state"},[t._v("State "),n("span",{style:{color:t.stateTypeColour}},[t._v(t._s(t.capitalise(t.state.message)))])])])]),t._v(" "),n("div",{staticClass:"p-d-flex p-jc-between"},[n("Button",{staticClass:"p-button-warning",on:{click:function(e){return t.onClickAction("restart")}}},[t._v("Restart")]),t._v(" "),n("Button",{staticClass:"p-button-success",on:{click:function(e){return t.onClickAction("start")}}},[t._v("Start")]),t._v(" "),n("Button",{staticClass:"p-button-danger",on:{click:function(e){return t.onClickAction("stop")}}},[t._v("Stop")]),t._v(" "),n("Button",{staticClass:"p-button-info",on:{click:function(e){return t.onClickAction("update")}}},[t._v("Update")])],1)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-col-5"},[n("h4",[t._v("Operations")])])}],!1,null,null,null);e.default=component.exports}}]);